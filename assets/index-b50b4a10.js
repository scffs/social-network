import{r as e,_ as r,u as t,j as s,k as a}from"./index-7ffb1bb9.js";import{W as i}from"./WidgetWrapper-3dcec289.js";import{u as o,T as n}from"./Typography-4f28d770.js";import{B as l}from"./useMediaQuery-37f9338f.js";import{u}from"./useDispatch-bedd2961.js";import"./App-04e5d410.js";const d=e.lazy((()=>r((()=>import("./index-8e89ee6d.js")),["assets/index-8e89ee6d.js","assets/index-7ffb1bb9.js","assets/index-2c3596dc.css","assets/App-04e5d410.js","assets/FlexBetween-d18a3fc2.js","assets/useMediaQuery-37f9338f.js","assets/Typography-4f28d770.js","assets/UserImage-ebd199ec.js","assets/IconButton-0cd0e226.js","assets/ButtonBase-a6ee6a19.js","assets/useDispatch-bedd2961.js"]))),p=({userId:r})=>{const p=u(),{palette:c}=o(),m=t((e=>e.token)),{_id:h}=t((e=>e.user)),f=t((e=>{var r;return null==(r=e.user)?void 0:r.friends})),j=()=>{return e=void 0,t=null,s=function*(){const e=yield fetch(`http://localhost:3001/users/${r}/friends`,{method:"GET",headers:{Authorization:`Bearer ${m}`}}),t=yield e.json();p(a({friends:t}))},new Promise(((r,a)=>{var i=e=>{try{n(s.next(e))}catch(e){a(e)}},o=e=>{try{n(s.throw(e))}catch(e){a(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);n((s=s.apply(e,t)).next())}));var e,t,s};return e.useEffect((()=>{j()}),[]),s.jsxs(i,{children:[s.jsx(n,{color:c.neutral.dark,variant:"h5",fontWeight:"500",sx:{mb:"1.5rem"},children:"Друзья"}),s.jsx(l,{display:"flex",flexDirection:"column",gap:"1.5rem",children:0!==(null==f?void 0:f.length)&&(null==f?void 0:f.map((e=>s.jsx(d,{userId:h,friendId:e._id,name:`${e.firstName} ${e.lastName}`,subtitle:e.occupation,userPicturePath:e.picturePath},e._id))))})]})};export{p as default};
