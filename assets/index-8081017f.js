import{r as e,_ as r,u as s,j as t,k as i}from"./index-aaf2ae70.js";import{W as a}from"./WidgetWrapper-e2809c26.js";import{u as o,T as n}from"./Typography-89d80a21.js";import{B as u}from"./useMediaQuery-14101100.js";import{u as d}from"./useDispatch-5cd579e2.js";import"./App-db70bfcd.js";const l=e.lazy((()=>r((()=>import("./index-3a0b442c.js")),["assets/index-3a0b442c.js","assets/index-aaf2ae70.js","assets/index-2c3596dc.css","assets/App-db70bfcd.js","assets/FlexBetween-37d3138b.js","assets/useMediaQuery-14101100.js","assets/Typography-89d80a21.js","assets/UserImage-a476862e.js","assets/IconButton-b7fcdf7a.js","assets/ButtonBase-91a4f99f.js","assets/useDispatch-5cd579e2.js"]))),p=({userId:r})=>{const p=d(),{palette:c}=o(),m=s((e=>e.token)),{_id:f}=s((e=>e.user)),h=s((e=>{var r;return null==(r=e.user)?void 0:r.friends})),j=()=>{return e=void 0,s=null,t=function*(){const e=yield fetch(`https://scffs.github.io/social-network/users/${r}/friends`,{method:"GET",headers:{Authorization:`Bearer ${m}`}}),s=yield e.json();p(i({friends:s}))},new Promise(((r,i)=>{var a=e=>{try{n(t.next(e))}catch(e){i(e)}},o=e=>{try{n(t.throw(e))}catch(e){i(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);n((t=t.apply(e,s)).next())}));var e,s,t};return e.useEffect((()=>{j()}),[]),t.jsxs(a,{children:[t.jsx(n,{color:c.neutral.dark,variant:"h5",fontWeight:"500",sx:{mb:"1.5rem"},children:"Друзья"}),t.jsx(u,{display:"flex",flexDirection:"column",gap:"1.5rem",children:0!==(null==h?void 0:h.length)&&(null==h?void 0:h.map((e=>t.jsx(l,{userId:f,friendId:e._id,name:`${e.firstName} ${e.lastName}`,subtitle:e.occupation,userPicturePath:e.picturePath},e._id))))})]})};export{p as default};
